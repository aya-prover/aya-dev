# 局部无名 (Locally Nameless)

局部无名使用 _字符串变量名_ (或其他类似的东西) 来表示 **自由变量** (即在上下文中的变量), 而使用 _Debruijn-Index_
来表示 **绑定变量** (如 lambda 或 _依值类型_ 引入的绑定), 此即局部。

## 示例

考虑如下上下文与表达式：`a : A ⊢ f (λ a. a) a`，我们可以用更无歧义的方式表示它：
`a0 : A ⊢ f (λ a1. a1) a1`，在这里：

* `a0` 是自由变量
* `a1` 是绑定变量

上述上下文与表达式可以用使用局部无名表示为：`a : A ⊢ f (λ. ^0) a`, 其中 `^0` 是一个 `debruijn-index`,
它表示在那个地方的上下文，从右数的第 0 个变量。

考虑 `^0` 所在的地方，它的上下文是 `a : A, 0 : ?? ⊢ ^0`, 则 `^0` 表示的是 `0 : ??` 这个变量。

## Bound Term

_bound term_ 指某个 _term_ 被 _bind_ 之后的状态, 特别指 _bind_ 可能使得某些自由变量变成了绑定变量.

如：我们正在检查这个 lambda 表达式的 body: `λ a. f a`, 此时, 表达式 `f a` 已经检查完毕，我们正准备将它放入 `LamTerm` 中,
为了做到这一点, 我们需要对表达式 `f a` 中的变量 `a` 进行 _bind_, 使其变为 `f ^0`, 这样的 _term_ 就叫做 _bound term_.

_bound term_ 的特点是它已经被 _bind_ 过, 并且非常可能有对 尚未引入的绑定变量 的引用, 这种情况下就不能简单地对它进行
_bind_.

_bound term_ 通常是一个类型检查期间会出现的 _term_, 它应该被立刻放入其他会引入绑定变量的 _term_ 中, 如 `LamTerm`,
或者作为函数的定义.

## Free Term

与 _bound term_ 相反, _free term_ 是指一个没有任何对 尚未引入的绑定变量 的引用的 _term_, 如 `f : ?? ⊢ λ. f ^0`.
绝大多数情况都应该使用 _free term_ 和要求调用者传入 _free term_.

_free term_ 一般并不指 `FreeTerm(LocalVar name)`, 这是一个对自由变量的引用.
